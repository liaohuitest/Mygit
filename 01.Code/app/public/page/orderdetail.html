<!DOCTYPE html><html><head lang="en">    <meta charset="UTF-8">    <meta http-equiv="x-ua-compatible" content="IE=edge"/>    <meta name="viewport" content="width=device-width, initial-scale=1">    <title></title>    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"/>    <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>    <!--<script src="https://unpkg.com/vue"></script>-->    <link rel="stylesheet" href="../css/orderdetail.css"/></head><body><section id="app">    <div class="container-fluid">        <button type="button" id="goback" @click="back" class="btn btn-info">            <span v-if="languageFlag" class="glyphicon glyphicon-chevron-left">返回</span>            <span v-else class="glyphicon glyphicon-chevron-left">back </span>        </button>        <div class="row">            <div class="col-md-12">                <ul class="nav nav-tabs" role="tablist">                    <li role="presentation" class="active">                        <a href="#home" aria-controls="home" role="tab" data-toggle="tab">                            <span v-if="languageFlag">订单基本信息</span>                            <span v-else>Order basic information</span>                        </a></li>                    <li role="presentation" @click="orderlog">                        <a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">                            <span v-if="languageFlag">订单处理日志</span>                            <span v-else>Order processing log</span>                        </a>                    </li>                    <li role="presentation" @click="orderproduct">                        <a href="#products" aria-controls="products" role="tab" data-toggle="tab">                            <span v-if="languageFlag">订单部署详情</span>                            <span v-else>Order deployment details</span>                        </a>                    </li>                </ul>                <div class="tab-content">                    <div role="tabpanel" class="tab-pane active" id="home">                        <div class="content">                            <div>                                <span v-if="languageFlag">订单ID：</span>                                <span v-else>Orderid：</span>                                <span>{{objdetail.order_id}}</span>                            </div>                            <div>                                <span v-if="languageFlag">公司名称：</span>                                <span v-else>Company：</span>                                <span>{{objdetail.customer_name}}</span></div>                            <div>                                <span v-if="languageFlag">联系人：</span>                                <span v-else>Contacter：</span>                                <span>{{objdetail.customer_contacter}}</span></div>                            <div>                                <span v-if="languageFlag">联系电话：</span>                                <span v-else>Phone：</span>                                <span>{{objdetail.customer_phone}}</span></div>                            <div>                                <span v-if="languageFlag">联系人邮箱：</span>                                <span v-else>Email：</span>                                <span>{{objdetail.customer_email}}</span></div>                            <div>                                <span v-if="languageFlag">项目规模：</span>                                <span v-else>Project scale：</span>                                <span v-if="objdetail.project_scale==1">Small</span>                                <span v-else-if="objdetail.project_scale==2">Middle</span>                                <span v-else-if="objdetail.project_scale==3">Large</span>                            </div>                            <div>                                <span v-if="languageFlag">网元规模：</span>                                <span v-else>Network scale：</span>                                <span v-if="objdetail.device_scale==1">Small</span>                                <span v-else-if="objdetail.device_scale==2">Middle</span>                                <span v-else-if="objdetail.device_scale==3">Large</span>                            </div>                            <div>                                <span v-if="languageFlag">用户规模：</span>                                <span v-else>User scale：</span>                                <span v-if="objdetail.subscriber_scale==1">Small</span>                                <span v-else-if="objdetail.subscriber_scale==2">Middle</span>                                <span v-else-if="objdetail.subscriber_scale==3">Large</span>                            </div>                            <div>                                <span v-if="languageFlag">订阅期限(月)：</span>                                <span v-else>Subscription period(M)：</span>                                <span>{{objdetail.order_duration}}</span></div>                            <div>                                <span v-if="languageFlag">到期时间：</span>                                <span v-else>Expiration date：</span>                                <span>{{objdetail.order_expiredtime}}</span>                            </div>                            <div>                                <span v-if="languageFlag">部署区域：</span>                                <span v-else>Deployment area：</span>                                <!--<span>{{objdetail.deployment_areacode}}</span>-->                                <template v-if="languageFlag">                                    <span v-if="objdetail.deployment_areacode=='us-east-1'">美国东部(弗吉尼亚北部)</span>                                    <span v-if="objdetail.deployment_areacode=='us-east-2'">美国东部(俄亥俄)</span>                                    <span v-if="objdetail.deployment_areacode=='us-west-1'">美国西部(加利福尼亚北部)</span>                                    <span v-if="objdetail.deployment_areacode=='us-west-2'">美国西部(俄勒冈)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-south-1'">亚太区域(孟买)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-northeast-2'">亚太区域(首尔))</span>                                    <span v-if="objdetail.deployment_areacode=='ap-southeast-1'">亚太区域(新加坡)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-southeast-2'">亚太区域(悉尼)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-northeast-1'">亚太区域(东京)</span>                                    <span v-if="objdetail.deployment_areacode=='ca-central-1'">加拿大(中部)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-central-1'">欧洲(法兰克福)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-west-1'">欧洲(爱尔兰)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-west-2'">欧洲(伦敦)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-west-3'">欧洲(巴黎)</span>                                    <span v-if="objdetail.deployment_areacode=='sa-east-1'">南美洲(圣保罗)</span>                                </template>                                <template v-if="!languageFlag">                                    <span v-if="objdetail.deployment_areacode=='us-east-1'">US East(N.Virginia)</span>                                    <span v-if="objdetail.deployment_areacode=='us-east-2'">US East(Ohio)</span>                                    <span v-if="objdetail.deployment_areacode=='us-west-1'">US West(N.California)</span>                                    <span v-if="objdetail.deployment_areacode=='us-west-2'">US West(Oregon)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-south-1'">Asia Pacific(Mumbai)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-northeast-2'">Asia Pacific(Seoul)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-southeast-1'">Asia Pacific(Singapore)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-southeast-2'">Asia Pacific(Sydney)</span>                                    <span v-if="objdetail.deployment_areacode=='ap-northeast-1'">Asia Pacific(Tokyo)</span>                                    <span v-if="objdetail.deployment_areacode=='ca-central-1'">Canada(Central)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-central-1'">EU(Frankfurt)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-west-1'">EU(Ireland)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-west-2'">EU(London)</span>                                    <span v-if="objdetail.deployment_areacode=='eu-west-3'">EU(Paris)</span>                                    <span v-if="objdetail.deployment_areacode=='sa-east-1'">South America(Sao Paulo)</span>                                </template>                            </div>                            <div>                                <span v-if="languageFlag">订单状态：</span>                                <span v-else>Orderstatu：</span>                                <span v-if="languageFlag && objdetail.order_status==0">待审核</span>                                <span v-else-if="languageFlag && objdetail.order_status==1">已审核</span>                                <span v-else-if="languageFlag && objdetail.order_status==4">正在部署应用</span>                                <span v-else-if="languageFlag && objdetail.order_status==5">应用部署完成</span>                                <span v-else-if="languageFlag && objdetail.order_status==6">待注销</span>                                <sapn v-else-if="languageFlag && objdetail.order_status==7">注销中</sapn>                                <span v-else-if="languageFlag && objdetail.order_status==8">注销完成</span>                                <span v-else-if="languageFlag && objdetail.order_status==9">清除完成</span>                                <span v-else-if="languageFlag && objdetail.order_status==10">清除中</span>                                <span v-if="!languageFlag && objdetail.order_status==0">To be audited</span>                                <span v-else-if="!languageFlag && objdetail.order_status==1">Audited</span>                                <span v-else-if="!languageFlag && objdetail.order_status==4">Being deployed</span>                                <span v-else-if="!languageFlag && objdetail.order_status==5">Deployment completion</span>                                <span v-else-if="!languageFlag && objdetail.order_status==6">待注销</span>                                <sapn v-else-if="!languageFlag && objdetail.order_status==7">In the cancellation</sapn>                                <span v-else-if="!languageFlag && objdetail.order_status==8">Already written off</span>                                <span v-else-if="!languageFlag && objdetail.order_status==9">Already cleared</span>                                <span v-else-if="!languageFlag && objdetail.order_status==10">In the process of clearing</span>                            </div>                            <div>                                <span v-if="languageFlag"> 处理结果标识：</span>                                <span v-else> Result flag：</span>                                <span v-if="objdetail.result_flag==0 && languageFlag">未通过</span>                                <span v-if="objdetail.result_flag==0 && !languageFlag ">Not pass</span>                                <span v-else-if="objdetail.result_flag==1 && languageFlag">通过</span>                                <span v-else-if="objdetail.result_flag==1 && !languageFlag">Pass</span>                                <span v-else-if="objdetail.result_flag==2 && languageFlag">失败</span>                                <span v-else-if="objdetail.result_flag==2 && !languageFlag">fail</span>                                <span v-else-if="objdetail.result_flag==3 && languageFlag">成功</span>                                <span v-else-if="objdetail.result_flag==3 && !languageFlag">Success</span>                            </div>                            <div>                                <span v-if="languageFlag">订单提交时间：</span>                                <span v-else>Submission time：</span>                                <span>{{objdetail.order_submittime}}</span></div>                            <div>                                <span v-if="languageFlag">开始部署时间：</span>                                <span v-else>Start deployment time：</span>                                <span>{{objdetail.deploy_begintime}}</span></div>                            <div>                                <span v-if="languageFlag">完成部署时间：</span>                                <span v-else>Completion of deployment time：</span>                                <span>{{objdetail.deploy_endtime}}</span></div>                            <div>                                <span v-if="languageFlag">订单审核时间：</span>                                <span v-else>Check time：</span>                                <span>{{objdetail.audit_time}}</span></div>                            <div>                                <span v-if="languageFlag">开始注销时间：</span>                                <span v-else>Start logout time：</span>                                <span>{{objdetail.destroy_begintime}}</span></div>                            <div>                                <span v-if="languageFlag">完成注销时间：</span>                                <span v-else>Completion of cancellation time：</span>                                <span>{{objdetail.destroy_endtime}}</span></div>                            <div>                                <span v-if="languageFlag">处理结果描述：</span>                                <span v-else>Result description：</span>                                <span>{{objdetail.result_description}}</span></div>                        </div>                    </div>                    <div role="tabpanel" class="tab-pane" id="profile">                        <table class="table table-bordered  table-condensed  table-hover text-center"                               style=" margin-top: 20px">                            <thead>                            <tr v-if="languageFlag">                                <td>日志ID</td>                                <td>处理前状态</td>                                <td>处理前结果</td>                                <td>处理后状态</td>                                <td>处理后结果</td>                                <td>用户ID</td>                                <td>登陆账号</td>                                <td>处理人姓名</td>                                <td>开始处理时间</td>                                <td>结束处理时间</td>                                <td>处理结果描述</td>                            </tr>                            <tr v-else>                                <td>Orderid</td>                                <td>Pre processing state</td>                                <td>Pre processing results</td>                                <td>Post processing state</td>                                <td>Results after treatment</td>                                <td>Userid</td>                                <td>Login account</td>                                <td>Person's name</td>                                <td>Start processing time</td>                                <td>End the processing time</td>                                <td>Result description</td>                            </tr>                            </thead>                            <tbody>                            <tr v-for="item in showLog">                                <td>{{item.ol_id}}</td>                                <td v-if="languageFlag && item.begin_status==0">待审核</td>                                <td v-else-if="languageFlag && item.begin_status==1">已审核</td>                                <td v-else-if="languageFlag && item.begin_status==4">正在部署应用</td>                                <td v-else-if="languageFlag && item.begin_status==5">应用部署完成</td>                                <td v-else-if="languageFlag && item.begin_status==6">待注销</td>                                <td v-else-if="languageFlag && item.begin_status==7">注销中</td>                                <td v-else-if="languageFlag && item.begin_status==8">注销完成</td>                                <td v-if="!languageFlag && item.begin_status==0">To be audited</td>                                <td v-else-if="!languageFlag && item.begin_status==1">Audited</td>                                <td v-else-if="!languageFlag && item.begin_status==4">Being deployed</td>                                <td v-else-if="!languageFlag && item.begin_status==5">Deployment completion</td>                                <td v-else-if="!languageFlag && item.begin_status==6">待注销</td>                                <td v-else-if="!languageFlag && item.begin_status==7">In the cancellation</td>                                <td v-else-if="!languageFlag && item.begin_status==8">Already written off</td>                                <td v-if="languageFlag && item.begin_resultflag==0">未通过</td>                                <td v-else-if="languageFlag && item.begin_resultflag==1">通过</td>                                <td v-else-if="languageFlag && item.begin_resultflag==2">失败</td>                                <td v-else-if="languageFlag && item.begin_resultflag==3">成功</td>                                <td v-else-if="languageFlag && item.begin_resultflag!=3&& item.begin_resultflag!=1&& item.begin_resultflag!=2"></td>                                <td v-if="!languageFlag && item.begin_resultflag==0">Not through</td>                                <td v-else-if="!languageFlag && item.begin_resultflag==1">Adopt</td>                                <td v-else-if="!languageFlag && item.begin_resultflag==2">Faile</td>                                <td v-else-if="!languageFlag && item.begin_resultflag==3">Success</td>                                <td v-else-if="!languageFlag && item.begin_resultflag!=3&& item.begin_resultflag!=1&& item.begin_resultflag!=2"></td>                                <td v-if="languageFlag && item.end_status==1">已审核</td>                                <td v-else-if="languageFlag && item.end_status==2">正在部署</td>                                <td v-else-if="languageFlag && item.end_status==3">部署完成</td>                                <td v-else-if="languageFlag && item.end_status==4">正在部署应用</td>                                <td v-else-if="languageFlag && item.end_status==5">应用部署完成</td>                                <td v-else-if="languageFlag && item.end_status==6">待注销</td>                                <td v-else-if="languageFlag && item.end_status==7">注销中</td>                                <td v-else-if="languageFlag && item.end_status==8">注销完成</td>                                <td v-else-if="languageFlag && item.end_status==9">清除完成</td>                                <td v-else-if="languageFlag && item.end_status==10">清除中</td>                                <td v-if="!languageFlag && item.end_status==1">Audited</td>                                <td v-else-if="!languageFlag && item.end_status==4">Being deployed</td>                                <td v-else-if="!languageFlag && item.end_status==5">Deployment completion</td>                                <td v-else-if="!languageFlag && item.end_status==6">待注销</td>                                <td v-else-if="!languageFlag && item.end_status==7">In the cancellation</td>                                <td v-else-if="!languageFlag && item.end_status==8">Already written off</td>                                <td v-else-if="!languageFlag && item.end_status==9">Already cleared</td>                                <td v-else-if="!languageFlag && item.end_status==10">In the process of clearing</td>                                <td v-if="languageFlag &&item.end_resultflag==0">未通过</td>                                <td v-else-if="languageFlag &&item.end_resultflag==1">通过</td>                                <td v-else-if="languageFlag &&item.end_resultflag==2">失败</td>                                <td v-else-if="languageFlag &&item.end_resultflag==3">成功</td>                                <td v-else-if="languageFlag &&item.end_resultflag!=1&&item.end_resultflag!=2&&item.end_resultflag!=3 "></td>                                <td v-if="!languageFlag &&item.end_resultflag==0">Not through</td>                                <td v-else-if="!languageFlag &&item.end_resultflag==1">Adopt</td>                                <td v-else-if="!languageFlag &&item.end_resultflag==2">Faile</td>                                <td v-else-if="!languageFlag &&item.end_resultflag==3">Success</td>                                <td v-else-if="!languageFlag &&item.end_resultflag!=1&&item.end_resultflag!=2&&item.end_resultflag!=3 "></td>                                <td>{{item.user_id}}</td>                                <td>{{item.login_name}}</td>                                <td>{{item.user_name}}</td>                                <td>{{item.begin_time}}</td>                                <td>{{item.end_time}}</td>                                <td>{{item.description}}</td>                            </tr>                            </tbody>                        </table>                    </div>                    <div role="tabpanel" class="tab-pane" id="products">                        <table class="table table-bordered  table-condensed  table-hover text-center"                               style=" margin-top: 20px">                            <thead>                            <tr v-if="languageFlag">                                <td>订单产品ID</td>                                <td>产品名称</td>                                <td>组件名称</td>                                <td>组件类型</td>                                <td>EC2记录ID</td>                                <td>EC2ID</td>                                <td>EC2名称</td>                                <td>WEB类URL</td>                            </tr>                            <tr v-else>                                <td>Orderid</td>                                <td>Product name</td>                                <td>Component name</td>                                <td>Component type</td>                                <td>EC2 Record ID</td>                                <td>EC2 ID</td>                                <td>EC2 Name</td>                                <td>WEB URL</td>                            </tr>                            </thead>                            <tbody>                            <tr v-for="item in arrproducts">                                <td>{{item.op_id}}</td>                                <td>{{item.product_name}}</td>                                <td> {{item.component_name}}</td>                                <td v-if="item.component_type==1"> SBI</td>                                <td v-else-if="item.component_type==2"> NBI</td>                                <td v-else-if="item.component_type==3"> Web</td>                                <td>{{item.eci_id}}</td>                                <td>{{item.instance_id}}</td>                                <td>{{item.instance_name}}</td>                                <td><a :href="item.deploy_url" target="_blank">{{item.deploy_url}}</a></td>                            </tr>                            </tbody>                        </table>                    </div>                </div>            </div>        </div>    </div></section><script src="../lib/vue.min.js"></script><script src="../lib/jquery-2.1.1.js"></script><script>    $(function () {        var user = window.sessionStorage.getItem("user");        if (!user) {            window.location.href = '/page/login.html'        }    })</script><script>    var app = new Vue({        el: '#app',        data: {            languageFlag: false,            objdetail: {},            showLog: {},            arrproducts: []        },        methods: {            back() {                window.history.go(-1)            },            orderproduct() {                _this = this;                $.ajax({                    url: '/getproductdetail.do',                    type: 'post',                    data: {order_id: _this.objdetail.order_id},                    success: function (data) {                        if (data) {                            _this.arrproducts = data                        }                    }                },)            },            orderlog() {                _this = this;                var id = this.objdetail.order_id;                $.ajax({                    url: '/getorderlog.do',                    data: {id: id},                    type: 'get',                    success: function (data) {                        _this.showLog = data                    }                })            },            getUrlParams(name) {                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i"); //定义正则表达式                var r = window.location.search.substr(1).match(reg);                if (r != null) return unescape(r[2]);                return null;            }        },        created() {            var order = JSON.parse(this.getUrlParams("a"));            _this = this;            if (window.sessionStorage.getItem('language') == 'chinese') {                this.languageFlag = true            } else if (window.sessionStorage.getItem('language') == 'english') {                this.languageFlag = false            }            $.ajax({                url: '/getorderdetail.do',                data: {id: order.order_id},                type: 'get',                success: function (data) {                    _this.objdetail = data                }            })        }    })</script><script src="../lib/bootstrap.js"></script><script src="../js/order.js"></script></body></html>